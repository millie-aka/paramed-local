!function(x){String.prototype.gformFormat||(String.prototype.gformFormat=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(e,t){return void 0!==a[t]?a[t]:e})});var T=function(e){if("date"===e.prop("type"))return{sep:"-",format:"ymd"};var t=function(e){for(var t=e.split(" "),a=0;a<t.length;a++)if(-1!=t[a].indexOf("gcldf-date-format-")){var r=t[a].split("-");return r[r.length-1]}return!1}(e.parents(".gfield").attr("class"));if(t){var a=t.split("_"),r={dot:".",slash:"/",dash:"-"},i=a[1]?r[a[1]]:"slash";return{sep:r[i]?r[i]:i,format:a[0]}}return{sep:"/",format:"mdy"}},S=function(e,t){t||(t=T(e));var a,r,i,n,d=t.sep,s=t.format;if("date"===e.prop("type")){var f=e.val().split(d);return{month:f[s.indexOf("m")]-1,day:f[s.indexOf("d")],year:f[s.indexOf("y")]}}if(e.find(".gfield_date_dropdown_month").length||e.find(".gfield_date_month").length){var o=e.find(".ginput_container_date input, .ginput_container_date select");r=o.eq(s.indexOf("m")).val()-1,i=o.eq(s.indexOf("d")).val(),n=o.eq(s.indexOf("y")).val()}else e.is(".datepicker, .has-inline-datepicker, .gpro-disabled-datepicker")&&(a=e.val(),dateBits=a.split(d),r=dateBits[s.indexOf("m")]-1,i=dateBits[s.indexOf("d")],n=dateBits[s.indexOf("y")]);return{month:r,day:i,year:n}},I=function(e){var t=S(e),a=t.day,r=t.month,i=t.year;return!(!a||!r&&"0"!==r&&0!==r||!i)&&(date=new Date(i,r,a,0,0,0,0),date)};function N(e){var t=e.split(/([0-9]{1,2}):([0-9]{2})(am|pm)?/i),a=parseInt(t[1]),r=parseInt(t[2]),i=String(t[3]).toLowerCase(),n=new Date;return"pm"==i&&a<12?a+=12:"am"==i&&12==a&&(a=0),new Date(n.getFullYear(),n.getMonth(),n.getDate(),a,r,0,0)}gform.addFilter("gform_is_value_match",function(e,t,a){var r=!1,i=a.value,n=jQuery("#input_"+t+"_"+a.fieldId),d=n.parents(".gfield").hasClass("gcldf-field-time");if("_gpcld_current_time"==a.fieldId||d){var s=new Date,f=n.parents(".gfield").find("input, select"),o="{0}:{1}{2}".gformFormat(f.eq(0).val(),f.eq(1).val(),f.eq(2).val()),l=d?N(o):s,g=l.getTime()/1e3,p=N(a.value);if(a.gpcldBaseDate)if(x.isNumeric(a.gpcldBaseDate))p.setDate(p.getDate()+a.gpcldBaseDate);else{var u=new Date(a.gpcldBaseDate);p.setFullYear(u.getFullYear()),p.setMonth(u.getMonth()),p.setDate(u.getDate())}var m=60*l.getTimezoneOffset(),c=l.getTime()/1e3+m;void 0!==window["GPCLD_USE_VISITOR_TIMEZONE_"+t]&&window["GPCLD_USE_VISITOR_TIMEZONE_"+t]||(g=c+3600*window.GPConditionalLogicDates.serverTzOffsetHours),i=p.getTime()/1e3}else{if(!n.parents(".gfield").hasClass("gcldf-field"))return e;g=function(e){var t=I(e);if(!t)return!1;var a=60*t.getTimezoneOffset();return!isNaN(t.getTime())&&t.getTime()/1e3-a}(n)}if(r=g,-1!=String(i).indexOf("*")){for(var y=i.split("/"),v=[(D=S(n)).month+1,D.day,D.year],_=0;_<y.length;_++)"*"==y[_]&&(y[_]=v[_]);var h=60*(D=new Date(y[2],y[0]-1,y[1],0,0,0,0)).getTimezoneOffset();i=D.getTime()/1e3-h}if(r&&(O=a.value.match(/{(.+?)}/))){var O=O[1].toLowerCase(),D=I(n);switch(O){case"monday":case"tuesday":case"wednesday":case"thursday":case"friday":case"saturday":case"sunday":r=!D||isNaN(D.getDay())?"":D.getDay(),i=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].indexOf(O)}}if(!1===r&&gform.applyFilters("gpcld_require_date_selection",!0,t,a)&&("isnot"==a.operator?r=i:"is"!=a.operator?i="":r=""),i&&i.toString().match(/[-/]/)&&!function(e){if("string"!=typeof e)return!1;var t=parseInt(e,10);return!isNaN(t)&&t<0}(i)){var w=function(e,t){t||(t={sep:"/",format:"mdy"});var a=t.sep,r=t.format,i=e.split(a),n=i[r.indexOf("m")]-1,d=i[r.indexOf("d")],s=i[r.indexOf("y")];return new Date(s,n,d,0,0,0,0)}(i,T(n));w&&(i=(w.getTime()/1e3).toString())}return e=gf_matches_operation(String(r),String(i),a.operator)})}(jQuery);
//# sourceMappingURL=gp-conditional-logic-dates.js.map